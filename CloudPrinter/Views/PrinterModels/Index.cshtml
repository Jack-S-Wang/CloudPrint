@model IEnumerable<CloudPrinter.Models.PrinterModels>

@{
    ViewBag.Title = "云打印主页";
}

<h2>云打印应用程序</h2>
@if (ViewBag.loginAccount.Equals(ViewBag.superAccount))
{
    <p>
        @Html.ActionLink("注册新打印机", "Create", new { userAccount = ViewBag.userAccount })
    </p>
}

<div>
    @using (Html.BeginForm("printData","PrinterModels"))
    {
        @Html.DisplayNameFor(model=>model.printerNumber)
        <input type="checkbox" value="设备"/>
        <input type="submit" value="打印" />
    }
</div>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.printerNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.printerName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.mState)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cState)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.stateMessage)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.userName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.registerTime)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        if (ViewBag.userAccount.Equals(item.userAccount))
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.printerNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.printerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.mState)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.cState)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.stateMessage)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.userName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.registerTime)
                </td>
                <td>
                    @Html.ActionLink("编辑", "Edit", new { printerNumber = item.printerNumber }) |
                    @Html.ActionLink("信息", "Details", new { printerNumber = item.printerNumber }) |
                    @if (ViewBag.loginAccount.Equals(ViewBag.superAccount))
                    {
                        @Html.ActionLink("删除", "Delete", new { printerNumber = item.printerNumber })
                    }

                </td>
            </tr>
        }
    }

</table>
